# LLMZip v2.0

**Система сжатия данных без потерь на основе больших языковых моделей**

Программная реализация алгоритма, описанного в магистерской диссертации  
*«Исследование возможностей использования больших языковых моделей для сжатия данных без потерь»*

## Поддерживаемые модели

| Ключ | Модель | Параметры | Семейство |
|------|--------|-----------|-----------|
| `gpt2` | GPT-2 | 124M | GPT-2 (OpenAI) |
| `gpt2-medium` | GPT-2 Medium | 355M | GPT-2 (OpenAI) |
| `opt-1.3b` | OPT-1.3B | 1.3B | OPT (Meta) |
| `phi-2` | Phi-2 | 2.7B | Phi (Microsoft) |
| `mistral-7b` | Mistral-7B | 7B | Mistral AI |

## Быстрый старт

```bash
# 1. Установка зависимостей
pip install -r requirements.txt

# 2. Быстрая проверка (без загрузки модели)
python test_smoke.py

# 3. Сжатие файла
python examples/compress_file.py compress input.txt output.llmz --model gpt2

# 4. Декомпрессия
python examples/compress_file.py decompress output.llmz restored.txt

# 5. Бенчмарк
python examples/benchmark.py --input input.txt --models gpt2 gpt2-medium
```

## Архитектура

```
src/llmzip/
├── models/                  # Вероятностные модели (Глава 2, раздел 2.2)
│   ├── base.py             # Абстрактный базовый класс
│   ├── hf_model.py         # Реализация на HuggingFace Transformers
│   └── registry.py         # Реестр моделей (5 моделей)
├── preprocessing.py         # Предобработка данных (раздел 2.2, этап 1)
├── context.py              # Управление контекстным окном (раздел 2.4)
├── arithmetic.py           # Арифметическое кодирование (раздел 1.2, 2.2)
├── compressor.py           # Конвейер сжатия (раздел 2.2)
├── decompressor.py         # Конвейер декомпрессии (раздел 2.3)
└── file_format.py          # Формат файла .llmz (раздел 2.5)
```

## Соответствие главам диссертации

| Раздел диссертации | Модуль кода | Описание |
|--------------------|-------------|----------|
| Глава 1.2 | `arithmetic.py` | Арифметическое кодирование |
| Глава 1.3 | `models/` | LLM как вероятностные модели |
| Глава 2.1 | `compressor.py` | Требования детерминированности |
| Глава 2.2 | `compressor.py` | Алгоритм сжатия |
| Глава 2.3 | `decompressor.py` | Процедура декомпрессии |
| Глава 2.4 | `context.py` | Управление контекстным окном |
| Глава 2.5 | `file_format.py` | Формат .llmz |

## Лицензия

Выпускная квалификационная работа, СПбПУ, 2026.
